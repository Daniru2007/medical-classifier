generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
}

model Specialist {
  id   String @id @default(cuid())
  name String

  diseaseCategories SpecialistDiseaseCategory[]
}

model DiseaseCategory {
  id   String @id @default(cuid())
  name String

  symptoms     DiseaseCategorySymptom[]
  specialists  SpecialistDiseaseCategory[]
}

model Symptom {
  id    String @id @default(cuid())
  label String @unique

  diseaseCategories DiseaseCategorySymptom[]
}

model DiseaseCategorySymptom {
  diseaseCategoryId String
  symptomId         String
  weight            Int

  diseaseCategory DiseaseCategory @relation(fields: [diseaseCategoryId], references: [id])
  symptom         Symptom         @relation(fields: [symptomId], references: [id])

  @@id([diseaseCategoryId, symptomId])
}

model SpecialistDiseaseCategory {
  specialistId      String
  diseaseCategoryId String

  specialist      Specialist      @relation(fields: [specialistId], references: [id])
  diseaseCategory DiseaseCategory @relation(fields: [diseaseCategoryId], references: [id])

  @@id([specialistId, diseaseCategoryId])
}
